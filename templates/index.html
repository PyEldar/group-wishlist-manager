{% extends "base.html" %}
{% block content %}
<div class="auth-container">
    <div class="card">
        <h2>Přihlášení</h2>
        <form class="form-login" action="{{ url_for('login') }}" method="POST">
            <input type="text" name="username" placeholder="Přihlašovací jméno/id" required>
            <input type="password" name="password" placeholder="Heslo" required>
            <button type="submit">Přihlásit</button>
        </form>
    </div>
    <div class="card registration-card">
        <h2>Nová registrace</h2>
        <form action="{{ url_for('register') }}" method="POST">
            <input type="text" name="username" placeholder="Přihlašovací jméno/id" required>
            <input type="text" name="display_name" placeholder="Jméno v rodině (např. Táta)" required>
            <input type="password" name="password" placeholder="Heslo" required>
            <div class="radio-group">
                <label>
                    <input type="radio" name="reg_type" value="create" 
                           {% if not join_code %}checked{% endif %} 
                           onclick="toggleReg('create')"> 
                    Vytvořit novou rodinu
                </label>
                <label>
                    <input type="radio" name="reg_type" value="join" 
                           {% if join_code %}checked{% endif %} 
                           onclick="toggleReg('join')"> 
                    Připojit se k existující
                </label>
            </div>
            <div id="create-group-inputs" {% if join_code %}style="display:none;"{% endif %}>
                <input type="text" name="group_name" placeholder="Název rodiny (např. Novákovi)">
            </div>
            <div id="join-group-inputs" {% if not join_code %}style="display:none;"{% endif %}>
                <input type="text" name="join_code" placeholder="Kód pro připojení (např. X9Y2Z1)" value="{{ join_code or '' }}">
            </div>
            <button type="submit" class="btn-secondary">Zaregistrovat</button>
        </form>
    </div>
</div>
<script>
    function toggleReg(type) {
        if (type === 'create') {
            document.getElementById('create-group-inputs').style.display = 'block';
            document.getElementById('join-group-inputs').style.display = 'none';
        } else {
            document.getElementById('create-group-inputs').style.display = 'none';
            document.getElementById('join-group-inputs').style.display = 'block';
        }
    }
</script>
{% endblock %}